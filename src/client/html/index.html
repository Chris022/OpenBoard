<!DOCTYPE html>
<html>
<head>
  <title>Weber Board</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no,user-scalable=no">
  <link rel="shortcut icon" href="/assets/icon64.png">
</head>
<body>
  <!-- The Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <center>
      <div>
        <p>INFO: Unused rooms (rooms without users) are cleard all 5 minutes</p>
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="roomId">Room Id:</label><br>
        <input type="text" id="roomId" name="roomId"><br><br>
        <input type="submit" id="createRoomButton" value="Create Room"> <input type="submit" id="joinRoomButton" value="Join Room">
      </div>
    </center>

  </div>

</div>

  <div id="error-alert" class="alert">
    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
    <strong>Error!</strong> <a id="error-msg"></a>
  </div>
  <canvas id="board-canvas"></canvas>
  <button class="button" onclick="openNav();"> >> </button>
  <div id="userpanel" class="userpanel"></div>
  <script>
    function openNav() {
      document.getElementById("userpanel").style.width = "250px";
    }
    
    function closeNav() {
      document.getElementById("userpanel").style.width = "0";
    }
    
    function toggleMenue(id) {
      if(document.getElementById("dropdown-"+id).style.display == "block"){
        document.getElementById("dropdown-"+id).style.display = "none";
      }else{
        document.getElementById("dropdown-"+id).style.display = "block";
      }
    }

    function downloadCanvas(){
      var canvas = document.getElementById("board-canvas");
      var img    = canvas.toDataURL("image/png");
      window.open(img,'Image','resizable=1');
    }

    function switchWriteDeleteMode(){
      let button = document.getElementById("writeReadButton");
      if(button.innerHTML == "Write"){
        button.innerHTML = "Delete"
      }else{
        button.innerHTML = "Write"
      }
    }

    function switchPresentMode(){
      let button = document.getElementById("presentationButton");
      if(button.innerHTML == "Start Presentation Mode"){
        button.innerHTML = "End Presentation Mode"
      }else{
        button.innerHTML = "Start Presentation Mode"
      }
    }
    </script>
</body>
<footer>
  <div id="toolbar" class="toolbar">
    <center>
      <div class="toolbardiv">
        <input type="color" id="colorPicker" name="colorPicker" value="#00000">
        <Button class="button" onclick="downloadCanvas();">Screenshot Canvas</Button>
        <Button class="button" id="writeReadButton" onclick="switchWriteDeleteMode();">Write</Button>
        <Button class="button" id="presentationButton" onclick="switchPresentMode();">Start Presentation Mode</Button>
    </div>
    </center>
  </div>
</footer>
</html>
